# ComfyUI 聊天气泡

为 ComfyUI 提供聊天气泡样式的自定义节点，灵感来自 Flutter chat_bubbles 包。

## 概述

这个自定义节点允许您在 ComfyUI 工作流程中创建视觉上吸引人的聊天风格元素，类似于 WhatsApp、微信、iMessage 等聊天平台。这个节点可以：

- 生成具有各种形状和外观的文本气泡
- 支持多种气泡样式，满足不同的设计需求
- 支持多种语言文本显示，包括中文、英文、日文等10种语言
- 提供高分辨率输出选项，确保图像清晰度
- 支持透明背景，可以与其他图像无缝混合

![微信截图_20250323110535](https://github.com/user-attachments/assets/b4a13dac-cf26-4e50-aba3-d6af035b8d80)
![微信截图_20250323110421](https://github.com/user-attachments/assets/93527ceb-61e8-40f8-a21a-dbbc8819f05f)


## 节点

### 文本聊天气泡 (TextBubble)

创建一个文本聊天气泡，具有多种样式，类似于消息应用。

**参数：**
- `文本内容`: 气泡中显示的文本内容
- `气泡样式`: 气泡的视觉样式（普通、特殊一、特殊二、特殊三）
- `气泡背景颜色`: 气泡的背景颜色（如 #E8E8E8）
- `文本颜色`: 文本的颜色（如 #000000）
- `发送者位置`: 气泡在右侧（发送者）或左侧（接收者）
- `显示尾巴`: 是否显示气泡的"尾巴"指示器
- `字体大小`: 文本的字体大小
- `气泡宽度`: 气泡的最大宽度
- `内边距`: 文本周围的内部间距
- `图像分辨率`: 输出图像的分辨率倍数（1-4），更高的值意味着更清晰的图像
- `语言`: 选择文本的语言，影响使用的字体

## 多语言支持

本节点支持以下10种语言：

- 简体中文
- 繁体中文
- 日文
- 韩文
- 英文
- 西班牙语
- 俄文
- 阿拉伯文
- 印地文
- 泰文

每种语言使用专门的字体进行渲染，确保文本正确显示。字体配置位于`fonts/font_config.json`文件中，可以根据需要进行自定义。

## 安装

1. 将此仓库克隆到您的 ComfyUI 自定义节点目录中:
```bash
cd ComfyUI/custom_nodes
git clone https://github.com/chenpipi0807/ComfyUI_chat_bubbles.git
```

2. 重启 ComfyUI

## 使用方法

在 ComfyUI 节点浏览器中，您可以通过搜索"文本聊天气泡"或"TextBubble"找到节点。将其添加到您的工作流中，并根据需要配置参数。

### 气泡样式

节点提供了四种不同的气泡样式:
- **普通**: 标准聊天气泡，具有圆角和可选的尾巴
- **特殊一**: 带有尖角的样式
- **特殊二**: 高度圆润的样式，类似于某些现代聊天应用
- **特殊三**: 带有箭头形状尾巴的气泡

### 背景处理

节点使用透明背景，允许气泡无缝地与其他图像混合。这使得您可以:
- 将气泡叠加在其他图像或背景上
- 创建组合图像，将多个气泡叠加在一起
- 在后期处理中添加自定义背景

### 图像分辨率

通过调整"图像分辨率"参数，您可以增加输出图像的清晰度。更高的值会产生更大、更清晰的图像，但也会增加处理时间和内存使用。

## 示例工作流

创建一个基本的聊天气泡:
1. 添加"文本聊天气泡"节点
2. 设置所需的文本和样式参数
3. 选择适当的语言以正确显示您的文本
4. 将节点输出连接到预览或保存节点

## 许可证

MIT
